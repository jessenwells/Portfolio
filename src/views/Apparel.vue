<template lang="pug">
#tile-grid(@mouseover="ready")
  tile(v-for="tile in info" :details="tile" :class="tile.project" :key="info.index" @hover="clickReady" @link="linkReady" @name="nameReady")
</template>

<script>
import tile from '../components/Tile';
export default {
  components: {
    tile
  },
  data() {
    return {
      info: [
        {project: 'nyc skyline', thumb: '/thumbs/sprite-15.jpg', frames: 4, link: '/apparel/nycskyline'},
        {project: 'relief crown', thumb: '/thumbs/sprite-16.jpg', frames: 3, link: '/apparel/crown'},
        {project: 'nyc text map', thumb: '/thumbs/sprite-17.jpg', frames: 4, link: '/apparel/nycmap'},
        {project: 'distress pyramid', thumb: '/thumbs/sprite-18.jpg', frames: 5, link: '/apparel/pyramid'},
        {project: 'moody line art', thumb: '/thumbs/sprite-19.jpg', frames: 5, link: '/apparel/moody'},
        {project: 'nyc liberty', thumb: '/thumbs/sprite-20.jpg', frames: 4, link: '/apparel/nycliberty'}
    ]
    };
  },
  methods: {
    clickReady (value) {this.flag = value},
    linkReady (value) {this.flag2 = value},
    nameReady (value) {this.flag3 = value},
    ready: function() {
      var tile = document.querySelector(this.join)
      var route = this.$router
      var flag = this.flag
      var flag2 = this.flag2
      setTimeout(() => {
        tile.onclick =  function()  {
          if(flag == 'true' && tile.classList.contains('play')){
            route.push(flag2)
          }
        }
      }, 300)
    },
    active: function() {
    var svg3 = Snap('#select.apparel')
    var dot3 = svg3.select('.dot.apparel')
    dot3.animate({ d: "M224,12.5c0,6.9-4.6,12.5-11.4,12.5c0,0-130,0-130.1,0c0,0-70,0-70,0C5.6,25,1,19.4,1,12.5S5.6,0,12.5,0c0,0,70,0,70,0 c0,0,130,0,130.1,0C219.4,0,224,5.6,224,12.5z"}, 800, mina.bounce);
    $('.link .dot.apparel').css('opacity','1');
    }
  },
  mounted() {
this.active()
  },
  computed: {
    join: function() {
      var flag3 = this.flag3
      return '.' + this.flag3.split(' ').join('.') + ' ' + '.tile'
    }
  }
}
</script>

<style lang="stylus">

</style>
